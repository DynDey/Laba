import os
import sys
def fun2():
    nums=[]
    k=0
    file=open('text.txt','r')
    for i in file:      #выведение содержания файла в виде списка
        nums.append(i[:-1])
    for i in nums:      #создание подсписков в списке где первый товар разбивается на "характеристики"
        nums[k]=i.split(';')
        k+=1
    nums=sorted(nums,key=lambda a: a[1])         #сортировка

    for i in nums:
        print('%s%10s%10s%10s' % (i[0], i[1], i[2],i[3]))      #перевод вида список в вид строки
    file.close()
    exit()


def fun3():
    nums = []
    k = 0
    file = open('text.txt', 'r')
    zero=nums
    for i in file:
        nums.append(i[:-1])
    for i in nums:
        nums[k] = i.split(';')
        k+=1

    for i in nums:
        print('%10s%10s%10s%10s'%(i[0], i[1], i[2], i[3]))
    while True:
        print('Хотите изменить количество товара?(y/n)')
        ans=input()
        if ans=='y':
            print('Введите номер строки')
            n=input()
            print('Введите количество товара которое хотите изменить')
            prise=input()
            for i in nums:
                if i[0]==n:
                    i[3]=int(i[3])+int(prise)
            nums = sorted(nums, key=lambda a: a[1])
            for i in nums:
                print('%10s%10s%10s%10s' % (i[0], i[1], i[2], i[3]))
            file.close()
        else:
            break
    print("Сохранить изменения?(y/n)")
    an=input()
    if an=='y':
        print("Хотите сохранить изменения в новом файле?(y/n)")
        save=input()
        if save=='n':
            file = open('text.txt', 'w')
            for i in nums:
                file.write(str(i[0])+';'+str(i[1])+';'+str(i[2])+';'+str(i[3])+'\n')
            print('Записано')
        file.close()
        if save=='y':
            zerofile=open('newtext.txt','w')
            for i in nums:
                zerofile.write(str(i[0]) + ';' + str(i[1]) + ';' + str(i[2]) + ';' + str(i[3]) + '\n')
            print('Записано')
            zerofile.close()

    exit()

def fun1():
    di = input('Введите адрес директории: ')
    print('Файлов в директории:',len([name for name in os.listdir(di) if os.path.isfile(os.path.join(di, name))]))
    exit()

def exit():
    m = input('Вы хотите продолжить? (y/n)')
    if m == 'y':
        menu()
    else:
        sys.exit()

def menu():
    print('0 - Выход\n1 - Посчитать файлы в директории\n2 - Вывод информации о товарах, сортированных по значению\n3 - Изменение количества товаров указанных номеров')
    m=input()
    if m=='0':
        sys.exit()
    if m=='1':
        fun1()
    if m=='2':
        fun2()
    if m=='3':
        fun3()
menu()
